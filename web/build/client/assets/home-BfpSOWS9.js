import{a as n,w as E,p as e}from"./chunk-EPOLDU6W-Wp3N_t67.js";const I=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),L=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,i,r)=>r?r.toUpperCase():i.toLowerCase()),k=s=>{const a=L(s);return a.charAt(0).toUpperCase()+a.slice(1)},C=(...s)=>s.filter((a,i,r)=>!!a&&a.trim()!==""&&r.indexOf(a)===i).join(" ").trim(),R=s=>{for(const a in s)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var T={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const P=n.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:p,...b},d)=>n.createElement("svg",{ref:d,...T,width:a,height:a,stroke:s,strokeWidth:r?Number(i)*24/Number(a):i,className:C("lucide",o),...!c&&!R(b)&&{"aria-hidden":"true"},...b},[...p.map(([y,l])=>n.createElement(y,l)),...Array.isArray(c)?c:[c]]));const x=(s,a)=>{const i=n.forwardRef(({className:r,...o},c)=>n.createElement(P,{ref:c,iconNode:a,className:C(`lucide-${I(k(s))}`,`lucide-${s}`,r),...o}));return i.displayName=k(s),i};const q=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],F=x("chevron-down",q);const U=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],O=x("chevron-up",U);const B=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Z=x("circle-check",B);const H=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],M=x("circle-x",H);const W=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],J=x("pen-line",W);const K=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],V=x("search",K);const X=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Y=x("trash-2",X);const G=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Q=x("user-plus",G);const ee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],te=x("users",ee);const se=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ae=x("x",se),le=()=>{const s=["Juma","Asha","Mwinyi","Neema","Baraka","Zuwena","Said","Fatuma","Elias","Lulu"],a=["Kassim","Mbeki","Nyerere","Mlowo","Makamba","Mtungi","Chale","Sokoine","Mwinyi","Moyo"],i=["Single","Married","Divorced","Widowed"];return Array.from({length:100},(r,o)=>{const c=new Date(2025,Math.floor(Math.random()*6),Math.floor(Math.random()*28)),p=new Date(c);return p.setFullYear(p.getFullYear()+(Math.random()>.4?1:0)),{id:o+1,fullName:`${s[Math.floor(Math.random()*10)]} ${a[Math.floor(Math.random()*10)]}`,age:Math.floor(Math.random()*45)+18,sex:Math.random()>.5?"Male":"Female",maritalStatus:i[Math.floor(Math.random()*4)],children:Math.floor(Math.random()*6),phone:`+255 ${700+Math.floor(Math.random()*99)} ${Math.floor(1e5+Math.random()*9e5)}`,regDate:c.toISOString().split("T")[0],expDate:p.toISOString().split("T")[0]}})},re=le(),g="https://adolf.nsaro.com/api/members/",ne=()=>{const[s,a]=n.useState(re),[i,r]=n.useState(!1),[o,c]=n.useState(null),[p,b]=n.useState(""),[d,y]=n.useState({key:"fullName",direction:"asc"}),[l,u]=n.useState({fullName:"",age:"",sex:"Male",maritalStatus:"Single",children:0,phone:"+255 ",regDate:"",expDate:""}),D=new Date;n.useEffect(()=>{(async()=>{const m=await(await fetch(g)).json();a(m)})()},[]);const f=n.useMemo(()=>s.map(t=>({...t,isActive:new Date(t.expDate)>D})),[s]),j=n.useMemo(()=>f.filter(t=>t.fullName.toLowerCase().includes(p.toLowerCase())||t.phone.includes(p)),[f,p]),S=n.useMemo(()=>{const t=[...j];return t.sort((h,m)=>h[d.key]<m[d.key]?d.direction==="asc"?-1:1:h[d.key]>m[d.key]?d.direction==="asc"?1:-1:0),t},[j,d]),A=()=>{c(null),u({fullName:"",age:"",sex:"Male",maritalStatus:"Single",children:0,phone:"+255 ",regDate:"",expDate:""}),r(!0)},_=t=>{c(t.id),u(t),r(!0)},$=async t=>{window.confirm("Permanent Action: Delete this member?")&&(await fetch(`${g}${t}/`,{method:"DELETE"})).ok&&a(s.filter(m=>m.id!==t))},z=async t=>{t.preventDefault();const h=o?"PUT":"POST",m=o?`${g}${o}/`:g,N=await fetch(m,{method:h,headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(N.ok){const w=await N.json();a(o?s.map(v=>v.id===o?w:v):[w,...s]),r(!1)}};return e.jsxs("div",{className:"min-h-screen bg-[#f8fafc] p-6 md:p-10 font-sans text-slate-900",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-10 gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"Tanzania Registry"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Community Member Management System"})]}),e.jsxs("button",{onClick:A,className:"flex items-center justify-center gap-3 bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-2xl font-bold shadow-xl shadow-blue-200 transition-all active:scale-95",children:[e.jsx(Q,{size:22}),"Register Member"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[e.jsxs("div",{className:"bg-white p-6 rounded-[24px] shadow-sm border border-slate-200 flex items-center gap-5",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-2xl text-blue-600",children:e.jsx(te,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400 font-bold uppercase tracking-wider",children:"Total Records"}),e.jsx("p",{className:"text-3xl font-black",children:s.length})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-[24px] shadow-sm border border-slate-200 flex items-center gap-5",children:[e.jsx("div",{className:"bg-emerald-50 p-4 rounded-2xl text-emerald-600",children:e.jsx(Z,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400 font-bold uppercase tracking-wider",children:"Active Members"}),e.jsx("p",{className:"text-3xl font-black text-emerald-600",children:f.filter(t=>t.isActive).length})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-[24px] shadow-sm border border-slate-200 flex items-center gap-5",children:[e.jsx("div",{className:"bg-rose-50 p-4 rounded-2xl text-rose-600",children:e.jsx(M,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400 font-bold uppercase tracking-wider",children:"Expired"}),e.jsx("p",{className:"text-3xl font-black text-rose-600",children:f.filter(t=>!t.isActive).length})]})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl shadow-slate-200/60 border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"p-8 border-b border-slate-100 flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:e.jsxs("div",{className:"relative group w-full lg:w-[450px]",children:[e.jsx(V,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors",size:22}),e.jsx("input",{type:"text",placeholder:"Search by name, phone...",className:"w-full pl-14 pr-6 py-4 bg-slate-50 border-none rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:bg-white transition-all outline-none text-slate-700 font-medium",onChange:t=>b(t.target.value)})]})}),e.jsx("div",{className:"overflow-x-auto max-h-[600px] custom-scrollbar",children:e.jsxs("table",{className:"w-full text-left border-separate border-spacing-0",children:[e.jsx("thead",{className:"sticky top-0 z-30 bg-white/95 backdrop-blur-md",children:e.jsxs("tr",{className:"text-slate-400 text-[10px] uppercase tracking-[0.2em] font-black",children:[["fullName","age","sex","maritalStatus","children","phone","regDate","expDate","isActive"].map(t=>e.jsx("th",{className:"px-8 py-5 border-b border-slate-100 cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>y({key:t,direction:d.direction==="asc"?"desc":"asc"}),children:e.jsxs("div",{className:"flex items-center gap-2",children:[t.replace(/([A-Z])/g," $1").trim(),d.key===t&&(d.direction==="asc"?e.jsx(O,{size:14}):e.jsx(F,{size:14}))]})},t)),e.jsx("th",{className:"px-8 py-5 border-b border-slate-100 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:S.map(t=>e.jsxs("tr",{className:"group hover:bg-blue-50/40 transition-all",children:[e.jsx("td",{className:"px-8 py-5 font-bold text-slate-800 whitespace-nowrap",children:t.fullName}),e.jsx("td",{className:"px-8 py-5 text-slate-600 font-medium",children:t.age}),e.jsx("td",{className:"px-8 py-5 text-slate-600 font-medium",children:t.sex}),e.jsx("td",{className:"px-8 py-5 text-slate-500",children:t.maritalStatus}),e.jsx("td",{className:"px-8 py-5 text-center text-slate-600 font-bold",children:t.children}),e.jsx("td",{className:"px-8 py-5 font-mono text-sm text-slate-500",children:t.phone}),e.jsx("td",{className:"px-8 py-5 text-slate-500 text-sm whitespace-nowrap",children:t.regDate}),e.jsx("td",{className:"px-8 py-5 text-slate-500 text-sm whitespace-nowrap",children:t.expDate}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("span",{className:`flex items-center gap-2 px-4 py-1.5 rounded-full text-[10px] font-black uppercase border ${t.isActive?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:t.isActive?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"})," Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{size:10})," Expired"]})})}),e.jsx("td",{className:"px-8 py-5 text-right",children:e.jsxs("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-all",children:[e.jsx("button",{onClick:()=>_(t),className:"p-2.5 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-600 hover:text-white transition-all",children:e.jsx(J,{size:18})}),e.jsx("button",{onClick:()=>$(t.id),className:"p-2.5 bg-rose-50 text-rose-600 rounded-xl hover:bg-rose-600 hover:text-white transition-all",children:e.jsx(Y,{size:18})})]})})]},t.id))})]})})]})]}),i&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-md",children:e.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"p-8 border-b flex justify-between items-center bg-slate-50/50",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-slate-900 tracking-tight",children:o?"Update Record":"New Registration"}),e.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:["Registry ID: ",o||"Auto-generated"]})]}),e.jsx("button",{onClick:()=>r(!1),className:"p-3 hover:bg-rose-50 hover:text-rose-500 rounded-2xl transition-all",children:e.jsx(ae,{size:24})})]}),e.jsxs("form",{onSubmit:z,className:"p-10 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest ml-1",children:"Full Name"}),e.jsx("input",{required:!0,type:"text",className:"w-full px-5 py-4 bg-slate-100 border-none rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:bg-white outline-none font-medium transition-all",value:l.fullName,onChange:t=>u({...l,fullName:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest ml-1",children:"Age"}),e.jsx("input",{required:!0,type:"number",className:"w-full px-5 py-4 bg-slate-100 border-none rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:bg-white outline-none font-medium transition-all",value:l.age,onChange:t=>u({...l,age:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest ml-1",children:"Sex"}),e.jsxs("select",{className:"w-full px-5 py-4 bg-slate-100 border-none rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:bg-white outline-none font-medium transition-all appearance-none",value:l.sex,onChange:t=>u({...l,sex:t.target.value}),children:[e.jsx("option",{children:"Male"}),e.jsx("option",{children:"Female"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest ml-1 text-blue-600",children:"Phone (+255)"}),e.jsx("input",{required:!0,type:"text",className:"w-full px-5 py-4 bg-slate-100 border-none rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:bg-white outline-none font-medium transition-all font-mono",value:l.phone,onChange:t=>u({...l,phone:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest ml-1",children:"Children"}),e.jsx("input",{type:"number",className:"w-full px-5 py-4 bg-slate-100 border-none rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:bg-white outline-none font-medium transition-all",value:l.children,onChange:t=>u({...l,children:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest ml-1 text-emerald-600",children:"Reg. Date"}),e.jsx("input",{required:!0,type:"date",className:"w-full px-5 py-4 bg-slate-100 border-none rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:bg-white outline-none font-medium transition-all",value:l.regDate,onChange:t=>u({...l,regDate:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest ml-1 text-rose-600",children:"Exp. Date"}),e.jsx("input",{required:!0,type:"date",className:"w-full px-5 py-4 bg-slate-100 border-none rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:bg-white outline-none font-medium transition-all",value:l.expDate,onChange:t=>u({...l,expDate:t.target.value})})]}),e.jsxs("div",{className:"col-span-2 pt-6 flex flex-col md:flex-row gap-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-5 rounded-[20px] font-black shadow-xl shadow-blue-200 hover:bg-blue-700 transition-all active:scale-[0.98]",children:o?"Update Member Info":"Confirm Registration"}),e.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-10 bg-slate-100 text-slate-500 py-5 rounded-[20px] font-black hover:bg-slate-200 transition-all",children:"Cancel"})]})]})]})})]})},ie=E(ne);export{ie as default};
